# Перестановка

**Транспозиция** - операция замены двух символов местами в перестановке

**<u>Теорема</u>**:
Все $n!$ перестановок из n символов можно расположить в таком порядке, что каждая следующая будет получаться из предыдущей одной транспозицией, причем начинать можно с любой перестановки.
<u>Следствие</u>:
От любой перестановки из n символов можно перейти к любой другой перестановке из тех же символов при помощи нескольких транспозиций.

**Инверсия** чисел i и j - если $i > j$, но i стоит в перестановке раньше.
**Четная** перестановка, у которой четное количество инверсий, иначе **нечетная**.


**<u>Теорема</u>**:
Всякая транспозиция меняет четность перестановки.
<u>Доказательство</u>:
1. Рассмотрим вначале позицию, когда элементы стоят рядом. При их смене инверсии относительно других элементов не изменились, если же сами элементы раньше составляли инверсию, то теперь она пропала и наоборот, т.е. кол-во инверсий изменилось.
2. Рассмотрим вариант, когда между ними есть S других элементы. Чтобы совершить замену этих элементов нужно совершить $2s + 1$ транспозиций. При этом совершая 1 транспозицию четность меняется, а их нечетное количество.


**<u>Теорема</u>**:
При $n >= 2$ число четных перестановок из n символов равно числу нечетных, т.е. равно $\frac{n!}{2}$
<u>Доказательство</u>:
1. Поставим перестановки так, чтобы каждая последующая перестановка получалась из предыдущей одной транспозицией.
2. При переходе к следующей перестановке четность меняется, так как общее число перестановок четно - $n!$, то количество нечетных и четных перестановок одинаковое.

# Подстановка

**Взаимно однозначное отображение** множества устанавливает правило, по которому один элемент переходит в другой. Всякое взаимно однозначное отображение A множества первых n натуральных чисел на себя называется **подстановкой n-й степени**

$$
A = 
\begin{pmatrix}
i_{1} \quad i_{2} \quad\dots \quad i_{n} \\
a_{l_{1}} \quad a_{l_{2}} \quad\dots \quad a_{l_{n}}
\end{pmatrix}

\tag{1}
$$

**Четная подстановка** - подстановка, в которой четности верхней и нижней перестановки совпадают, иначе **нечетная**.

**<u>Теорема</u>**:
Подстановка А будет четной, если общее число инверсий в двух строках четно, и нечетной - в противном случае.
<u>Доказательство</u>:
- Подстановка будет четная, если тип четности перестановок совпадает, а при сложении четного или нечетного количество инверсий получается четное число.

**Обратная подстановка** такая что:
$$
AA^{-1} = A^{-1}A = E
$$
Она получается заменой строк в подстановке местами.

## Произведение подстановок

**Произведение** подстановок есть последовательное выполнение двух взаимно однозначных отображений, результат которых будет также взаимно однозначное отображение.

$$
A = 
\begin{pmatrix}
1 \quad 2 \quad 3 \quad 4 \\
3 \quad 1 \quad 4 \quad 2
\end{pmatrix}
\qquad
B = 
\begin{pmatrix}
1 \quad 2 \quad 3 \quad 4 \\
1 \quad 3 \quad 4 \quad 2
\end{pmatrix}
$$

$$
AB = 
\begin{pmatrix}
1 \quad 2 \quad 3 \quad 4 \\
4 \quad 1 \quad 2 \quad 3
\end{pmatrix}
$$

Можно перемножить только подстановки одинаковой степени. Перемножение подстановок степени $n >= 3$ <u>некоммутативно</u>, но <u>ассоциативно</u>.
Произведение любой подстановки A на тождественную подстановку E, равно $AE = EA = A$.

## Транспозиция
**Транспозиция** - подстановка, получаемые из тождественной перестановок только двух символов в нижней строке. Она нечетная.

$$
\begin{pmatrix}
\dots i \dots j \dots
\\
\dots j \dots i \dots
\end{pmatrix}
$$

<u>Следствие</u>:
Всякая подстановка представим в виде произведения транспозиций.
$$
\begin{pmatrix}
1 \quad 2 \quad 3 \quad 4 \quad 5 \\
2 \quad 5 \quad 4 \quad 3 \quad 1
\end{pmatrix} = 
(12)(15)(34) = (14)(24)(45)(34)(13)
$$

**<u>Теорема</u>**:
При всех разложениях подстановки в произведение транспозиций четность числа этих транспозиций будет одна и та же, причем она совпадает с четностью самой подстановки.

## Циклы

**Циклическая подстановка** или **цикл** называется такая подстановка, что при повторении ее достаточное число раз всякий из действительно перемещаемых ею символов может быть переведен в любой другой из этих символов. Например,

$$
\begin{pmatrix}
1 \quad 2 \quad 3 \quad 4 \quad 5 \quad 6 \quad 7 \quad 8 \\
1 \quad 8 \quad 6 \quad 4 \quad 5 \quad 2 \quad 7 \quad 3
\end{pmatrix}
$$
Эту подстановку можно записать в виде цикла $(2 \quad 8 \quad 3 \quad 6)$. При записи цикла используют только те элементы, которые участвуют в перестановке. Цикл начинается и заканчивает одним символов, однако, в записи в конце его опускают.
**Длина** цикла - число символов в нем.

Два цикла n-й степени называются **независимыми**, если они не имеют общих действительно переставляемых символов.

**<u>Теорема</u>**:
Всякая подстановка может быть единственным способом разложена в произведение попарно независимых циклов.
<u>Следствие</u>:
Обратно, для всякой подстановки, заданной разложением в независимые циклы, можно найти запись в обычной форме, если известна степень подстановки.

$$
\begin{pmatrix}
1 \quad 2 \quad 3 \quad 4 \quad 5 \quad 6 \quad 7 \quad 8 \\
5 \quad 2 \quad 8 \quad 7 \quad 6 \quad 1 \quad 4 \quad 3
\end{pmatrix} =
(156)(38)(47)(2)
\tag{2}
$$

Пусть дана подстановка n-степени и путь число s обозначает количество независимых циклов.
**Декремент** - разность $n - s$. Он равен количеству действительно перемещаемых элементов минус число независимых циклов.
Для подстановки (2) декремент равен 4.

**<u>Теорема</u>**:
Четность подстановки совпадает с четностью декремента этой подстановки.